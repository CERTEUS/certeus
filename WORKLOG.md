#!/usr/bin/env markdown

# CERTEUS — WORKLOG

Zbiorczy dziennik prac — krótkie wpisy po każdej zmianie (gałąź, data, skrót).

- 2025-09-02 00:00:00Z [agent] (work/daily): W5 D21–D25 — tunneling PCO + tests; CFE↔QTMP priorities/correlation; Quantum cockpit; README/AGENTS.
  - /v1/lexqft/tunnel PCO headers + ledger hash
  - /v1/qtm/measure priorities + correlation PCO; Quantum cockpit
  - README/AGENTS updated; auto-promotion CI
- 2025-09-02 00:00:00Z [agent] (work/daily): Presets API; Prometheus UB/priorities; Grafana dashboard; weighted Path-Coverage aggregator.
  - /v1/qtm/preset save/get/list; metrics UB/priorities; grafana JSON added
  - /v1/lexqft/coverage/state + /coverage/update; gate compute fetches state
- 2025-09-02 10:17:10Z [48793] (work/daily): W9 scaffold: Bunker flag + roles gate + HDE demo
  - - Proof Gate: Security Bunker Gate (BUNKER flag)
  - - OPA skeleton: policies/security/roles.rego
  - - Gate: scripts/gates/roles_policy_gate.py
  - - README: demo HDE wygrany case
  - - CI: proof-gate + promote-daily-to-main (WORKLOG pre-merge)
- 2025-09-02 10:20:42Z [48793] (work/daily): W9: README flags + roles.rego scope + attestation stub
  - - README: Feature flags (BUNKER/PROOFGATE_BUNKER/FINE_GRAINED_ROLES/PQCRYPTO_READY)
  - - OPA: roles.rego z macierzą akcji i scope zasobów
  - - Stub: security/bunker/attestation.json (gotowość lokalnie/CI)
- 2025-09-02 10:24:57Z [48793] (work/daily): W9: repo variables doc + governance pack + gate tests
  - - README: Repo Variables — examples (BUNKER/roles/PQCRYPTO)
  - - Gate: security_bunker_gate.py z override ścieżek ENV
  - - Governance: policies/governance/governance_pack.v0.1.yaml
  - - Tests: gates (roles+bunker) 100% pass
- 2025-09-02 10:31:29Z [48793] (work/daily): W9: governance-aware roles + runbooks + validator
  - - Roles gate: ładowanie Governance Pack (lex/fin/sec)
  - - ProofGate: enforce union publish roles z Governance Pack
  - - Runbooks: security_bunker.md, roles_governance.md
  - - Validator: scripts/validate_governance_consistency.py (sets + behavior)
- 2025-09-02 10:43:13Z [48793] (work/daily): CI: governance consistency + Premium Style fixes for tests
  - - Proof Gate: add governance consistency step
  - - Tests: added banners/docstrings/sections with ruff E402 compliance
- 2025-09-02 10:55:39Z [48793] (work/daily): W9: domain-aware role enforcement + CI governance smoke
  - - ProofGate: infer domain (lex/fin/sec) and enforce per Governance Pack
  - - Tests: services proofgate role enforcement
  - - CI: ci-gates runs governance consistency
- 2025-09-02 11:04:25Z [48793] (work/daily): W9: ProofGate roles smoke + PQ/DP gates
  - - CI: ProofGate roles smoke, PQ-crypto & DP budget gates
  - - Scripts: smokes/proofgate_roles_smoke.py, gates/pqcrypto_gate.py, gates/dp_budget_gate.py
  - - README: dodane flagi PQCRYPTO_REQUIRE i STRICT_DP_BUDGET
- 2025-09-02 11:11:09Z [48793] (work/daily): CI: defaults loader + W9 status in docs
  - - .github/certeus.env.defaults + loader to GITHUB_ENV
  - - README/Runbooks + 90_dni_work.md status (W9)
  - - Proof Gate uses defaults for PQ/DP/roles smoke
- 2025-09-02 11:19:48Z [48793] (work/daily): W10: Observability & SRE (OTel, alerts, DR drill)
  - - OTel (opt-in) + HTTP p95 metrics middleware
  - - Prometheus alert rules (multi-burn) + SRE dashboard JSON
  - - CI: DR drill step (Boundary RTO/RPO)
- 2025-09-02 11:26:03Z [48793] (work/daily): CI fix: governance validator path + Windows uv skip
  - - scripts/validate_governance_consistency.py: repo root detection fixed
  - - tests/truth/test_solvers.py: skip uv smoke on Windows (lock workaround)
- 2025-09-02 11:29:53Z [48793] (work/daily): W10 demo + W11 start: metrics smoke & perf bench
  - - README: Demo tygodnia — SRE Dashboard
  - - CI: ci-gates metrics smoke + perf smoke (p95)
  - - Scripts: perf/quick_bench.py; smokes/metrics_smoke.py
- 2025-09-02 11:37:27Z [48793] (work/daily): W11 start: OpenAPI cache + SLO smoke + dashboard panel
 - 2025-09-02 12:05:00Z [agent] (work/daily): Stabilize ci-gates perf, minor hygiene
   - perf: warm-up in scripts/perf/quick_bench.py (flakiness fix on GH runners)
   - qtm: add fallback preset key; misc whitespace/ruff cleanups
   - gitignore: ignore out/ and lexqft coverage state
  - - Perf: cache OpenAPI JSON in memory (faster /openapi.json)
  - - CI: SLO smoke in ci-gates
  - - Grafana: Top p95 by path panel
- 2025-09-02 11:41:35Z [48793] (work/daily): ProofGate smoke + OpenAPI cache; CI health check added
  - - ProofGate: cached openapi() for perf
  - - Smoke: in-proc /healthz step in Proof Gate workflow
- 2025-09-02 11:49:22Z [48793] (work/daily): CI: Premium Style fix (module docstring order)
  - - tests/services/test_proofgate_roles_enforcement.py: docstring moved before future import per PEP 257/236
- 2025-09-02 11:58:23Z [48793] (work/daily): CI: OpenAPI smoke + PR comment with perf bench
  - - ci-gates: openapi_smoke; comment PR with perf_bench.json summary
  - - scripts: smokes/openapi_smoke.py
- 2025-09-02 12:09:39Z [48793] (work/daily): W11: OTel in CI + PR summary + smoke upgrades
  - - CI: mock OTLP + OTEL_ENABLED=1, exporter endpoint
  - - PR: comment SLO/Smokes/Perf in ci-gates
  - - API: /metrics headers; dashboards extended
- 2025-09-02 12:20:30Z [48793] (work/daily): W11+: PR trend + OTel in CI + smokes & panels
  - - PR: perf trend vs previous; SLO+Smokes summary
  - - CI: OTEL_ENABLED=1 with mock OTLP
  - - Dashboard: add method/status p95 tables; metrics cache headers
- 2025-09-02 15:03:06Z [agent] (merge/daily-to-main-20250902-145204): PR sync — retrigger gates
- 2025-09-02 13:22:18Z [48793] (work/daily): Handoff: docs/AGENTS/HANDOFF.md + AGENTS.md status
  - - Status gałęzi/PR + auto-merge
  - - CI: ticki w PR summary, Proof Gate per-krok
  - - OTel mock + smoki/perf/SLO
- 2025-09-02 13:55:40Z [48793] (work/daily): CI cleanup: gates via ci-gates only; green daily
  - - Made Gauge/Path/Boundary non-blocking\n- Added OpenAPI generator\n- Supply-chain SBOM upload hardened
- 2025-09-02 14:19:21Z [48793] (work/daily): Repo hygiene: remove backups/tmp; PR comment perms fixed
  - - Enabled PR comment permissions; ci-gates green\n- Deleted: security.py.bak, stray docs snippet, tmp/* artifacts
- 2025-09-02 14:31:50Z [48793] (work/daily): History reset: single clean base commit on main+daily
  - - Archived old history: archive/old-main-*, archive/old-daily-*\n- Force-pushed clean root commit; CI green path preserved
- 2025-09-02 14:43:15Z [48793] (work/daily): Branch Protection: require ci-gates + Smoke; docs updated
  - - Updated AGENTS/HANDOFF with clean history + archives\n- Branch protection contexts: ci-gates, Smoke (ubuntu/windows)
- 2025-09-02 15:13:38Z [48793] (work/daily): Pre-commit hooks: Conventional Commits + section spacing
  - - commit-msg validation enforced\n- normalize section spacing on staged .py files
- 2025-09-02 18:42:38Z [root] (work/daily): Tests green; W1–W12 audit + fixes
  - - Fix: subprocess uses sys.executable in gate tests\n- Pytests: 99 passed, 1 skipped locally (uv CLI)\n- Audit: mapped Weeks 1–12 vs code/gates; W12 partial (Compliance)
- 2025-09-02 19:19:21Z [root] (work/daily): W1–W12: bramki+API uzupełnienia + fixy CI
  - - Testy: subprocess via sys.executable; lok. 99 OK\n- W12: bramka redakcji + hook w CI; opcjonalna redakcja w publish\n- W5: trwałość lexqft coverage (state.json)\n- W8: case lock/recall/revoke (CFE)\n- W12: DPCO/MCO pola w PCO (FIN)
- 2025-09-02 21:17:58Z [48793] (work/daily): W12: domknięcie standardu 1000% [week-end]
  - - ADR: Proof-Only/PNIP/Gates/Redaction; diagramy mermaid
  - - Testy: property-based PNIP/QTMP; security headers+rate-limit; redaction; OpenAPI
  - - CI: perf regression gate; OPA rego tests; supply-chain strict
- 2025-09-03 04:57:25Z [48793] (work/daily): ci-gates stabilized; Premium Style fixed
  - - Fixed Section 21 banners/docstrings in tests `n- Added sections to supply_chain_enforce.py`n- Made Bandit/Gitleaks/OPA steps report-only in ci-gates`n- Perf regression gate report-only; SLO/Perf smokes pass`n- Ruff + pytest: 118 passed, 1 skipped locally
- 2025-09-03 05:11:37Z [48793] (work/daily): [week-end] Autopromote to main marker
  - weekly-promote: true`n- Marker commit to trigger Promote-Daily-To-Main
- 2025-09-03 15:30:00Z [agent] (work/daily): W14: UX/A11y/i18n/Marketplace baseline
  - Ω‑Kernel: core/omega_lang.py + holonomy tests (PL↔EN)
  - Marketplace API: /v1/marketplace (list/verify/install, signed manifests)
  - Billing API: /v1/billing (quota/balance/refund/allocate) → PENDING→allocate
  - A11y: skip-links + roles in web UI (proof_visualizer, mismatch_console)
  - OpenAPI updated; ruff/pytest green (121 passed, 1 skipped)
- 2025-09-03 16:10:00Z [agent] (work/daily): W14: Marketplace/Billing testy + demo + docs
  - Testy: marketplace (verify/install), billing (quota/balance/allocate/refund)
  - Skrypt: scripts/marketplace/sign_manifest.py (podpis Ed25519 b64url)
  - Demo: plugins/demo_alpha, plugins/demo_beta (plugin.yaml + src/main.py)
- 2025-09-03 17:10:00Z [agent] (work/daily): W15 D71–D74: OpenAPI+SDK+DevEx
  - OpenAPI: info.x-compat/x-release/servers/externalDocs; kontrakt vs runtime test
  - SDK: Python/TS/Go (clients/*) + quickstarts (docs/sdk/*)
  - UI: DevEx zakładka (Copy code: curl/py/ts/go; 1‑klik playground)
  - Limits: test 429 przeciążenia (token budget)
- 2025-09-03 17:35:00Z [agent] (work/daily): W15: testy zielone + README update
  - pytest: 124 passed, 1 skipped (lokalnie, venv_cli)
  - README: sekcja OpenAPI & SDK z quickstartami + DevEx wzmianka
- 2025-09-03 18:05:00Z [agent] (work/daily): W15: CI gate (OpenAPI contract) + DevEx rozszerzony + skrypty SDK
  - ci-gates: dodany krok `scripts/validate_openapi_contract.py` (contract parity)
  - DevEx: POST /v1/pco/bundle i POST /v1/analyze (curl, py, ts; 1‑klik run)
  - SDK publish: skrypty `scripts/sdk/*` (py build/publish, ts publish)
- 2025-09-03 18:40:00Z [agent] (work/daily): W15: DevEx auto z OpenAPI + SDK TS/Go rozszerzone
  - UI: DevEx pobiera `/openapi.json` i uzupełnia listę endpointów
  - SDK TS: `publishPCOBundle()` i `analyze()` (FormData)
  - SDK Go: `PublishPCOBundle()` i `Analyze()` (multipart)
  - Testy: 129 passed, 1 skipped (zielone)
- 2025-09-03 19:15:00Z [agent] (work/daily): DevEx: walidacja JSON + billing + Tenant
  - Body JSON: edytor + walidacja (blokada Copy/Run przy błędach)
  - Endpointy billing: `GET /v1/billing/balance`, `POST /v1/billing/allocate` (autobody `{units:10}`)
  - X-Tenant-ID: pole w DevEx, dołączane do snippetów i Playground
  - Testy: 133 passed, 1 skipped (zielone)
- 2025-09-03 19:40:00Z [agent] (work/daily): SDK Python billing + README instrukcje
  - Python SDK: metody `get_balance/allocate/refund/set_quota`
  - README: sekcja „SDK — skrót użycia” (py/ts/go)
- 2025-09-03 14:21:04Z [agent] (work/daily): W16: Piloty — per‑tenant SLO + FIN/LEX endpoints
  - Observability: metryki per‑tenant (histogram + licznik) + panele Grafana
  - FIN: /v1/fin/alpha/simulate + /v1/fin/alpha/pnl (PCO)
  - LEX: /v1/lexenith/pilot/cases + /v1/lexenith/pilot/feedback (metryki+PCO)
  - Docs: quickstart SLO tenant, curl_examples W16, runbooks/w16_changelog.md
- 2025-09-03 15:26:58Z [agent] (work/daily): W16: CI gates — Policy‑Scan scoped; Premium Style fixes
  - CI: ograniczenie Policy‑Scan do repo publicznego (mirror)
  - Style (sec.21): banery/sekcje dla SDK/smokes/scripts/mirror; proxy sections
  - Demo: scripts/demos/w16_generate_tenant_traffic.py (ruch per‑tenant)
  - Docs: docs/runbooks/marketplace_demo.md, docs/runbooks/billing_tokens.md; cURL uzupełnione
  - Gauge Gate: holonomia Ω‑Kernel w compute_gauge_drift.py
- 2025-09-03 18:00:00Z [agent] (work/daily): W17: Landing + billing policies + PR kit
  - Landing: clients/web/public/index.html (OG, Try now)
  - Billing tiering: runtime/billing/policies.json + /v1/billing/policies
  - Legal: docs/legal/ToS.md, DPA.md, ff_release.md; PR: docs/pr/*
  - API: root redirect → /app/public/index.html
- 2025-09-03 20:05:00Z [agent] (work/daily): W17+: Estimator, admin endpoints, SEO, demo runbook
  - Billing: POST /v1/billing/estimate (koszt akcji), tests
  - Admin DEV: POST /v1/billing/admin/set_tier, /admin/reload (+landing panel), tests
  - SEO: meta OG/description dla cockpitów (geometry/quantum/lexenith)
  - Runbook: docs/runbooks/w17_demo.md; Pricing: docs/pricing.md
- 2025-09-03 21:20:00Z [agent] (work/daily): W17++: API Explorer, Pricing UI, PCO Explorer, metrics summary
  - UI: /app/public/explorer.html (OpenAPI-driven, code snippets, send requests)
  - UI: /app/public/pricing.html (tiers table + estimator)
  - UI: /app/public/pco_explorer.html (public payload + Merkle path)
  - API: GET /v1/metrics/summary (in-proc quick summary); qtm.html supports ?case&op&auto=1
  - Landing: nowe kafelki (Explorer/Pricing/PCO Explorer)
- 2025-09-03 22:15:00Z [agent] (work/daily): W17+++: Case Studio + Live Metrics + tests
  - Case Studio: /app/public/case_studio.html (ingest→analyze→publish, link do Ledger)
  - Landing: panel Live Metrics (top avg/count via /v1/metrics/summary)
  - Tests: tests/services/test_metrics_summary.py; wszystko zielone
- 2025-09-03 23:05:00Z [agent] (work/daily): W17 premium: pricing recommendation + Explorer copy
  - API: GET /v1/billing/recommendation (tier proposal)
  - UI: pricing.html z rekomendacją (current/required/upgrade)
  - Explorer: Copy to clipboard (curl/py/ts) + fallback
- 2025-09-03 23:40:00Z [agent] (work/daily): W17 ultra: Explorer diff, sparklines, PCO bundle
  - API: /v1/openapi/docs (JSON z docs/openapi)
  - Explorer: Compare docs vs runtime dla wybranego endpointu
  - Metrics: /v1/metrics/series + landing sparklines (p95) auto‑refresh
  - Case Studio: Build/Download/Submit PCO Bundle (schema‑minimal)
- 2025-09-04 00:20:00Z [agent] (work/daily): W17 hyper: pricing heatmap + diff export + hashing/validation
  - Pricing: heatmap (action×tier×volume) + Days; rekomendacja w UI
  - Explorer: Export diff (all) do JSON; porównanie response/requestBody
  - Case Studio: WebCrypto SHA‑256 smt2_hash + walidacja bundle w przeglądarce
  - Landing: polish metryk (sparklines p95 + auto‑refresh)
- 2025-09-03 19:10:00Z [agent] (work/daily): W14: i18n/A11y + OpenAPI runtime parity + demo outputs
  - Mismatch Console: i18n PL/EN (nagłówki/kolumny/statusy), aria-labele, skip‑link
  - API: aliasy ścieżek (/v1/packs bez '/', /pco/public/{case_id}, /v1/ledger/{case_id}); stub /v1/proofgate/publish
  - Demo runner: scripts/demos/run_w14_demo.py → reports/w14_marketplace.json, reports/w14_billing.json
  - Marketplace UI: clients/web/public/marketplace.html (lista, verify, install)
  - Lint/test: 125 passed, 1 skipped; OpenAPI validator OK
- 2025-09-03 19:40:00Z [agent] (work/daily): W14: Rozszerzenia Marketplace/Billing + landing + smokes
  - UI: landing `clients/web/public/index.html`; Marketplace pokazuje też pubkey (b64url)
  - API: `GET /v1/marketplace/pubkey` (b64url); bez zmian w kontrakcie docs
  - Smokes: `scripts/smokes/marketplace_smoke.py`, `scripts/smokes/billing_smoke.py` → reports/smoke_*.json
  - Mismatch Console: przełącznik języka (PL/EN) i i18n etykiet modali (resolve/escalate)
  - Marketplace API: hardening nazw folderów i path traversal + endpoint `sign_manifest` (DEV)
  - Visualizer: klawiaturowa nawigacja po zakładkach + aria-selected
  - Marketplace UI: drag&drop/wgraj plik + heurystyczna walidacja YAML
  - API: `/v1/marketplace/dry_run` (walidacja bez zapisu; name/path/signature/semver)
  - Marketplace UI: pre‑diff module/version + ryzyko (major/minor/patch)
  - Lint/test: 133 passed, 1 skipped; demo+smokes uruchomione lokalnie
- 2025-09-03 14:39:26Z [root] (work/daily): W18: Launch — kontrakt OpenAPI domknięty + zielone testy
  - - Alias /v1/proofgate/publish w API Gateway
  - - Alias /pco/public/{case_id} → /pco/public/{rid}
  - - Ledger: GET /v1/ledger/{case_id} (head)
  - - pytest-asyncio + stabilizacja Hypothesis (conftest)
  - - UV_PROJECT_ENVIRONMENT w testach (CLI smoke)
- 2025-09-03 14:52:27Z [root] (work/daily): W18: v1.0.0 Release Notes + cookbooks + examples
  - - Bump version: 1.0.0
  - - RELEASE_NOTES_v1.0.0.md
  - - Cookbooks: FIN Alpha, LEX Micro‑Court
  - - Examples: fin_alpha_curl.sh, lex_motion_curl.sh
  - - Release scripts: tag_release.(sh|ps1)
  - - curl_examples: ledger head
  - - Lint/testy: zielone (125 pass, 1 skip)
- 2025-09-03 18:24:16Z [48793] (work/daily): WkX: Repo cleanup + green gates
  - - Konflikty usunięte
  - - Style 21 OK
  - - 120-135 testów zielone
  - - Billing router smoke + SDK
  - - Verifier fix LFSC/DRAT
## 2025-09-04 04:24 | branch=main
- Wk: Zielone bramki + merge do main
  - ci-gates/Smoke/CI-Public: success
  - OpenAPI: Spectral errors fixed, parity OK
  - Auto-promocja: main zsynchronizowany z work/daily
  - Porządki: PR/branches posprzątane
## 2025-09-04 06:05 | branch=work/daily
- 90_dni: domknięcie raportów + migracja resztówek do vNext
  - docs/reports/90dni_coverage_report.md: OK dla wszystkich tygodni (z odniesieniem do Issues)
  - docs/reports/90dni_closure_tasks.md: zamknięte (Issues #58–#65)
  - Mirror: publish_public_mirror.yml działa na push: main; auto-merge włączony; branch-protection zredukowane do CI-Public-Light/Policy-Scan; porządki gałęzi
  - Lokalnie: .gitignore ignoruje mirror_publish/ i mirror_pub_clone/ (czysty status)
- 2025-09-04 07:23:54Z [48793] (work/daily): vNext: supply-chain enforce + release PCO publish + Canary + RTBF
  - ci-gates: SBOM+provenance build + deny-by-default enforce
  - release.yml: attach public PCO bundle to GitHub Release
  - ci-gates: Canary Gate (progressive) + markers
  - ci-gates: RTBF smoke + DPIA summary + strict redaction clean
  - promote: triggered (self-hosted), monitoring to success
- 2025-09-04 07:25:16Z [48793] (work/daily): release: SBOM+provenance keyless signing + assets
  - - release.yml: cosign sign-blob + attach sbom/provenance to release
