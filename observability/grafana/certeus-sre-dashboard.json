{
  "title": "CERTEUS â€” SRE Dashboard",
  "panels": [
    {
      "type": "stat",
      "title": "HTTP error rate 5m",
      "targets": [{ "expr": "certeus_http_error_rate_5m" }]
    },
    {
      "type": "stat",
      "title": "HTTP error rate 1h",
      "targets": [{ "expr": "certeus_http_error_rate_1h" }]
    },
    {
      "type": "stat",
      "title": "HTTP p95 latency (ms)",
      "targets": [{ "expr": "certeus_http_p95_ms" }]
    },
    {
      "type": "graph",
      "title": "p95 latency (ms)",
      "targets": [{ "expr": "certeus_http_p95_ms" }]
    },
    {
      "type": "table",
      "title": "Top p95 latency by path (ms)",
      "targets": [
        {
          "expr": "histogram_quantile(0.95, sum(rate(certeus_http_request_duration_ms_bucket[5m])) by (le, path))"
        }
      ]
    },
    {
      "type": "table",
      "title": "p95 latency by method (ms)",
      "targets": [
        {
          "expr": "histogram_quantile(0.95, sum(rate(certeus_http_request_duration_ms_bucket[5m])) by (le, method))"
        }
      ]
    },
    {
      "type": "table",
      "title": "p95 latency by status (ms)",
      "targets": [
        {
          "expr": "histogram_quantile(0.95, sum(rate(certeus_http_request_duration_ms_bucket[5m])) by (le, status))"
        }
      ]
    }
  ],
  "time": { "from": "now-6h", "to": "now" }
}
